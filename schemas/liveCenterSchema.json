{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "live-center schema",
  "description": "This is the schema for the live-center API",
  "type":"array",
  "items": {
    "$ref": "#/definitions/entry"
  },
  "definitions": {
    "entry": {
      "description": "A live event entry",
      "type": "object",
      "properties": {
        "id": {
          "description": "The Id of an entry",
          "type": "integer",
          "minimum": 0
        },
        "type": {
          "description": "The entry's style",
          "type": "string"
        },
        "title": {
          "description": "The title of the entry.",
          "type": "string"
        },
        "postTime": {
          "$ref": "#/definitions/timestamp"
        },
        "hideTimestamp": {
          "description": "Whether to hide the entry's timestamp",
          "type": "boolean"
        },
        "isSticky": {
          "description": "Whether the entry is a sticky entry",
          "type": "boolean"
        },
        "author": {
          "description": "The name of the author of this entry.",
          "type": "string"
        },
        "matchTime": {
          "type": "string",
          "description": "The time of this post, as measured in the match.",
          "pattern": "^[0-9]+(\\+[0-9]+)?$"
        },
        "content": {
          "type":"array",
          "items": {
            "type":"object",
            "oneOf": [
              {"$ref": "#/definitions/textContent"},
              {"$ref": "#/definitions/imageContent"},
              {"$ref": "#/definitions/externalContent"},
              {"$ref": "#/definitions/possessionRatioContent"}
            ],
            "required": [
              "type"
            ]
          }
        }
      },
      "required": [
        "id",
        "type",
        "postTime",
        "hideTimestamp",
        "isSticky",
        "content"
      ]
    },
    "textContent": {
      "type": "object",
      "description": "A text-only content item",
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of this paragraph's content.",
          "enum": ["text"]
        },
        "text": {
          "type": "string",
          "description": "The content of this paragraph. This may also contain HTML."
        }
      },
      "required": [
        "text"
      ]
    },
    "imageContent": {
      "type": "object",
      "description": "An image",
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of this paragraph's content.",
          "enum": ["image"]
        },
        "src": {
          "type": "string",
          "description": "The src of this image."
        },
        "caption": {
          "type": "string",
          "description": "The caption of this image."
        },
        "altText": {
          "type": "string",
          "description": "The altText of this image."
        },
        "imageCredit": {
          "type": "string",
          "description": "The image credit."
        }
      },
      "required": [
        "src"
      ]
    },
    "externalContent": {
      "type": "object",
      "description": "An external piece of content, such as an escenic embedded content item, tweet or instagram post.",
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of this paragraph's content.",
          "enum": ["escenic", "tweet", "instagram"]
        },
        "url": {
          "type": "string",
          "description": "The URL of the external content."
        }
      },
      "required": [
        "url"
      ]
    },
    "possessionRatioContent": {
      "type": "object",
      "description": "A Overall Possession Ratio statistic from opta",
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of this paragraph's content.",
          "enum": ["possessionRatioStatistic"]
        },
        "homeTeam": {
          "type": "string"
        },
        "awayTeam": {
          "type": "string"
        },
        "homeTeamPossession": {
          "type": "string",
          "pattern": "^[0-9]*(.[0-9]+)?$"
        },
        "awayTeamPossession": {
          "type": "string",
          "pattern": "^[0-9]*(.[0-9]+)?$"
        }
      },
      "required": [
        "homeTeam",
        "awayTeam",
        "homeTeamPossession",
        "awayTeamPossession"
      ]
    },
    "timestamp": {
      "description": "A unix timestamp, in milliseconds",
      "type": "integer",
      "minimum": 0
    }
  }
}
